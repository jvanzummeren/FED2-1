!function(a,b,c,d,e){function f(a,b){return b.apply(e,a)}function g(a){var b=a.length-1;return function(){var d=arguments.length-b,e=c.prototype.slice.call(arguments);return e.push(e.splice(b,d)),a.apply(this,e)}}function h(a,b){return function(c){return a(c)&&b(c)}}function i(a,b){return b&&b.constructor===a}function j(a,b){return b[a]}function k(a){return a!==e}function l(){return!0}function m(a,c){return c instanceof b&&s(function(a){return a in c},a)}function n(a,b){return[a,b]}function o(a){function b(a,c){return a?b(K(a),n(J(a),c)):c}return b(a,L)}function p(a){return r(function(a,b){return a.unshift(b),a},[],a)}function q(a,b){return b?n(a(J(b)),q(a,K(b))):L}function r(a,b,c){return c?a(r(a,b,K(c)),J(c)):b}function s(a,b){return!b||a(J(b))&&s(a,K(b))}function t(a,b){b&&(a(J(b)),s(a,K(b)))}function u(a){for(var b=L,c=a.length;c--;)b=n(a[c],b);return b}function v(a,b,c){var d=a.prototype;d[b]=d[b]||c}function w(a,b){var c;clarinet.EVENTS.forEach(function(d){var e=b[d];a["on"+d]=e&&function(a){c=e(c,a)}})}function x(a,b,c,d,e,f,g){function h(a){return a?I(a)?a:JSON.stringify(a):null}function i(){var b=c.responseText,d=b.substr(j);d&&a(X,d),j=H(b)}var j=0;b(Z,function(){c.onreadystatechange=null,c.abort()}),"onprogress"in c&&(c.onprogress=i),c.onreadystatechange=function(){if(4==c.readyState){var b=2==String(c.status)[0];b?(i(),a(Y)):a(V)}},c.open(d,e,!0);for(var k in g)c.setRequestHeader(k,g[k]);c.send(h(f))}function y(a){function b(a,b){var d=P(J(a));return i(c,d)?g(a,H(d),b):a}function d(c,d){if(!c)return a(W,d),g(c,Q,d);var h=b(c,d),i=K(h),j=O(J(h));return e(i,j,d),n(f(j,d),i)}function e(a,b,c){P(J(a))[b]=c}function f(a,b){return{key:a,node:b}}function g(b,c,d){b&&e(b,c,d);var g=n(f(c,d),b);return a(U,g),g}function h(b){return a(T,b),K(b)}return{openobject:function(a,b){var c=d(a,{});return k(b)?g(c,b):c},openarray:function(a){return d(a,[])},key:g,value:function(a,b){return h(d(a,b))},closeobject:h,closearray:h}}function z(){var a={};return{on:function(b,c){return a[b]=n(c,a[b]),this},fire:function(b,c){t(E(f,[c||e]),a[b])}}}function A(a,b,c,d){function e(c,d,e){var g=R(d);b(c,function(b){var c=g(b);if(c!==!1)try{f(e,c,b)}catch(d){a(V,d)}})}function f(a,b,c){var d=o(c),e=p(K(q(O,d))),f=p(q(P,d));a(P(b),e,f)}function g(a,b){for(var c in b)e(a,c,b[c])}function h(a,b,c,d){return I(b)?e(a,b,c.bind(d||i)):g(a,b),this}var i,j;return b(W,function(a){j=a}),b(X,function(a){try{c.write(a)}catch(b){}}),b(Y,c.close.bind(c)),b(Z,function(){w(c,{})}),w(c,d),c.onerror=function(b){a(V,b)},i={path:E(h,U),node:E(h,T),on:h,fail:E(b,V),done:E(h,T,"!"),abort:E(a,Z),root:function(){return j}}}function B(a,b,c,d){var e=z();return x(e.fire,e.on,new XMLHttpRequest,a,b,c,d),A(e.fire,e.on,clarinet.parser(),y(e.fire))}function C(a,b){return function(c){return I(c)?B(a,c,b&&arguments[1]):B(a,c.url,c.body,c.headers)}}var D=g(function(a){return g(function(b){for(var c,d=0;d<H(a);d++)if(c=f(b,a[d]))return c})}),E=g(function(a,b){return g(function(c){return a.apply(this,b.concat(c))})}),F=g(function(a){function b(a,b){return b(a)}return function(c){return r(b,c,u(a))}}),G=E(E,j),H=G("length"),I=E(i,String),J=G(0),K=G(1),L=null,M=g(u);v(c,"forEach",function(a){for(var b=0;b<H(this);b++)a(this[b])}),v(c,"filter",function(a){var b=[];return this.forEach(function(c){a(c)&&b.push(c)}),b}),v(Function,"bind",function(a){var b=this;return function(){return b.apply(a,arguments)}}),function(e){function f(a){for(var b=Math.max(e.MAX_BUFFER_LENGTH,10),c=0,d=0,f=w.length;f>d;d++){var g=a[w[d]].length;if(g>b)switch(w[d]){case"text":closeText(a);break;default:p(a,"Max buffer length exceeded: "+w[d])}c=Math.max(c,g)}a.bufferCheckPosition=e.MAX_BUFFER_LENGTH-c+a.position}function g(a){for(var b=0,c=w.length;c>b;b++)a[w[b]]=""}function h(a){if(!(this instanceof h))return new h(a);var b=this;g(b),b.bufferCheckPosition=e.MAX_BUFFER_LENGTH,b.q=b.c=b.p="",b.opt=a||{},b.closed=b.closedRoot=b.sawRoot=!1,b.tag=b.error=null,b.state=y.BEGIN,b.stack=new t,b.position=b.column=0,b.line=1,b.slashed=!1,b.unicodeI=0,b.unicodeS=null,k(b,"onready")}function i(a){return new j(a)}function j(a){if(!(this instanceof j))return new j(a);this._parser=new h(a),this.writable=!0,this.readable=!0;var c=this;v.apply(c),this._parser.onend=function(){c.emit("end")},this._parser.onerror=function(a){c.emit("error",a),c._parser.error=null},x.forEach(function(a){b.defineProperty(c,"on"+a,{get:function(){return c._parser["on"+a]},set:function(b){return b?(c.on(a,b),void 0):(c.removeAllListeners(a),c._parser["on"+a]=b,b)},enumerable:!0,configurable:!1})})}function k(a,b,c){e.INFO&&console.log("-- emit",b,c),a[b]&&a[b](c)}function l(a,b,c){m(a),k(a,b,c)}function m(a,b){a.textNode=o(a.opt,a.textNode),a.textNode&&k(a,b?b:"onvalue",a.textNode),a.textNode=""}function n(a){a.numberNode&&k(a,"onvalue",parseFloat(a.numberNode)),a.numberNode=""}function o(a,b){return a.trim&&(b=b.trim()),a.normalize&&(b=b.replace(/\s+/g," ")),b}function p(a,b){return m(a),b+="\nLine: "+a.line+"\nColumn: "+a.column+"\nChar: "+a.c,b=new d(b),a.error=b,k(a,"onerror",b),a}function q(a){return a.state!==y.VALUE&&p(a,"Unexpected end"),m(a),a.c="",a.closed=!0,k(a,"onend"),h.call(a,a.opt),a}function r(a){var b=this;if(this.error)throw this.error;if(b.closed)return p(b,"Cannot write after close. Assign an onready handler.");if(null===a)return q(b);var c=0,d=a[0],g=b.p;for(e.DEBUG&&console.log("write -> ["+a+"]");d&&(g=d,b.c=d=a.charAt(c++),g!==d?b.p=g:g=b.p,d);)switch(e.DEBUG&&console.log(c,d,e.STATE[b.state]),b.position++,"\n"===d?(b.line++,b.column=0):b.column++,b.state){case y.BEGIN:"{"===d?b.state=y.OPEN_OBJECT:"["===d?b.state=y.OPEN_ARRAY:"\r"!==d&&"\n"!==d&&" "!==d&&"	"!==d&&p(b,"Non-whitespace before {[.");continue;case y.OPEN_KEY:case y.OPEN_OBJECT:if("\r"===d||"\n"===d||" "===d||"	"===d)continue;if(b.state===y.OPEN_KEY)b.stack.push(y.CLOSE_KEY);else{if("}"===d){k(b,"onopenobject"),k(b,"oncloseobject"),b.state=b.stack.pop()||y.VALUE;continue}b.stack.push(y.CLOSE_OBJECT)}'"'===d?b.state=y.STRING:p(b,'Malformed object key should start with "');continue;case y.CLOSE_KEY:case y.CLOSE_OBJECT:if("\r"===d||"\n"===d||" "===d||"	"===d)continue;b.state===y.CLOSE_KEY?"key":"object",":"===d?(b.state===y.CLOSE_OBJECT?(b.stack.push(y.CLOSE_OBJECT),m(b,"onopenobject")):m(b,"onkey"),b.state=y.VALUE):"}"===d?(l(b,"oncloseobject"),b.state=b.stack.pop()||y.VALUE):","===d?(b.state===y.CLOSE_OBJECT&&b.stack.push(y.CLOSE_OBJECT),m(b),b.state=y.OPEN_KEY):p(b,"Bad object");continue;case y.OPEN_ARRAY:case y.VALUE:if("\r"===d||"\n"===d||" "===d||"	"===d)continue;if(b.state===y.OPEN_ARRAY){if(k(b,"onopenarray"),b.state=y.VALUE,"]"===d){k(b,"onclosearray"),b.state=b.stack.pop()||y.VALUE;continue}b.stack.push(y.CLOSE_ARRAY)}'"'===d?b.state=y.STRING:"{"===d?b.state=y.OPEN_OBJECT:"["===d?b.state=y.OPEN_ARRAY:"t"===d?b.state=y.TRUE:"f"===d?b.state=y.FALSE:"n"===d?b.state=y.NULL:"-"===d?b.numberNode+=d:"0"===d?(b.numberNode+=d,b.state=y.NUMBER_DIGIT):-1!=="123456789".indexOf(d)?(b.numberNode+=d,b.state=y.NUMBER_DIGIT):p(b,"Bad value");continue;case y.CLOSE_ARRAY:if(","===d)b.stack.push(y.CLOSE_ARRAY),m(b,"onvalue"),b.state=y.VALUE;else if("]"===d)l(b,"onclosearray"),b.state=b.stack.pop()||y.VALUE;else{if("\r"===d||"\n"===d||" "===d||"	"===d)continue;p(b,"Bad array")}continue;case y.STRING:var h=c-1,i=b.slashed,j=b.unicodeI;a:for(;;){for(e.DEBUG&&console.log(c,d,e.STATE[b.state],i);j>0;)if(b.unicodeS+=d,d=a.charAt(c++),4===j?(b.textNode+=String.fromCharCode(parseInt(b.unicodeS,16)),j=0,h=c-1):j++,!d)break a;if('"'===d&&!i){b.state=b.stack.pop()||y.VALUE,b.textNode+=a.substring(h,c-1),b.textNode||k(b,"onvalue","");break}if("\\"===d&&!i&&(i=!0,b.textNode+=a.substring(h,c-1),d=a.charAt(c++),!d))break;if(i){if(i=!1,"n"===d?b.textNode+="\n":"r"===d?b.textNode+="\r":"t"===d?b.textNode+="	":"f"===d?b.textNode+="\f":"b"===d?b.textNode+="\b":"u"===d?(j=1,b.unicodeS=""):b.textNode+=d,d=a.charAt(c++),h=c-1,d)continue;break}A.lastIndex=c;var o=A.exec(a);if(null===o){c=a.length+1,b.textNode+=a.substring(h,c-1);break}if(c=o.index+1,d=a.charAt(o.index),!d){b.textNode+=a.substring(h,c-1);break}}b.slashed=i,b.unicodeI=j;continue;case y.TRUE:if(""===d)continue;"r"===d?b.state=y.TRUE2:p(b,"Invalid true started with t"+d);continue;case y.TRUE2:if(""===d)continue;"u"===d?b.state=y.TRUE3:p(b,"Invalid true started with tr"+d);continue;case y.TRUE3:if(""===d)continue;"e"===d?(k(b,"onvalue",!0),b.state=b.stack.pop()||y.VALUE):p(b,"Invalid true started with tru"+d);continue;case y.FALSE:if(""===d)continue;"a"===d?b.state=y.FALSE2:p(b,"Invalid false started with f"+d);continue;case y.FALSE2:if(""===d)continue;"l"===d?b.state=y.FALSE3:p(b,"Invalid false started with fa"+d);continue;case y.FALSE3:if(""===d)continue;"s"===d?b.state=y.FALSE4:p(b,"Invalid false started with fal"+d);continue;case y.FALSE4:if(""===d)continue;"e"===d?(k(b,"onvalue",!1),b.state=b.stack.pop()||y.VALUE):p(b,"Invalid false started with fals"+d);continue;case y.NULL:if(""===d)continue;"u"===d?b.state=y.NULL2:p(b,"Invalid null started with n"+d);continue;case y.NULL2:if(""===d)continue;"l"===d?b.state=y.NULL3:p(b,"Invalid null started with nu"+d);continue;case y.NULL3:if(""===d)continue;"l"===d?(k(b,"onvalue",null),b.state=b.stack.pop()||y.VALUE):p(b,"Invalid null started with nul"+d);continue;case y.NUMBER_DECIMAL_POINT:"."===d?(b.numberNode+=d,b.state=y.NUMBER_DIGIT):p(b,"Leading zero not followed by .");continue;case y.NUMBER_DIGIT:-1!=="0123456789".indexOf(d)?b.numberNode+=d:"."===d?(-1!==b.numberNode.indexOf(".")&&p(b,"Invalid number has two dots"),b.numberNode+=d):"e"===d||"E"===d?((-1!==b.numberNode.indexOf("e")||-1!==b.numberNode.indexOf("E"))&&p(b,"Invalid number has two exponential"),b.numberNode+=d):"+"===d||"-"===d?("e"!==g&&"E"!==g&&p(b,"Invalid symbol in number"),b.numberNode+=d):(n(b),c--,b.state=b.stack.pop()||y.VALUE);continue;default:p(b,"Unknown state: "+b.state)}return b.position>=b.bufferCheckPosition&&f(b),b}var s,t;if(s="object"==typeof process&&process.env?process.env:a,"function"==typeof FastList)t=FastList;else if("function"==typeof require)try{t=require("fast-list")}catch(u){t=c}else t=c;e.parser=function(a){return new h(a)},e.CParser=h,e.CStream=j,e.createStream=i,e.MAX_BUFFER_LENGTH=65536,e.DEBUG="debug"===s.CDEBUG,e.INFO="debug"===s.CDEBUG||"info"===s.CDEBUG,e.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var v,w=["textNode","numberNode"],x=e.EVENTS.filter(function(a){return"error"!==a&&"end"!==a}),y=0;e.STATE={BEGIN:y++,VALUE:y++,OPEN_OBJECT:y++,CLOSE_OBJECT:y++,OPEN_ARRAY:y++,CLOSE_ARRAY:y++,TEXT_ESCAPE:y++,STRING:y++,BACKSLASH:y++,END:y++,OPEN_KEY:y++,CLOSE_KEY:y++,TRUE:y++,TRUE2:y++,TRUE3:y++,FALSE:y++,FALSE2:y++,FALSE3:y++,FALSE4:y++,NULL:y++,NULL2:y++,NULL3:y++,NUMBER_DECIMAL_POINT:y++,NUMBER_DIGIT:y++};for(var z in e.STATE)e.STATE[e.STATE[z]]=z;y=e.STATE,b.create||(b.create=function(a){function b(){this.__proto__=a}return b.prototype=a,new b}),b.getPrototypeOf||(b.getPrototypeOf=function(a){return a.__proto__}),b.keys||(b.keys=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b});var A=/[\\"\n]/g;h.prototype={end:function(){q(this)},write:r,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{v=require("stream").Stream}catch(B){v=function(){}}j.prototype=b.create(v.prototype,{constructor:{value:j}}),j.prototype.write=function(a){return this._parser.write(a.toString()),this.emit("data",a),!0},j.prototype.end=function(a){return a&&a.length&&this._parser.write(a.toString()),this._parser.end(),!0},j.prototype.on=function(a,b){var d=this;return d._parser["on"+a]||-1===x.indexOf(a)||(d._parser["on"+a]=function(){var b=1===arguments.length?[arguments[0]]:c.apply(null,arguments);b.splice(0,0,a),d.emit.apply(d,b)}),v.prototype.on.call(d,a,b)},j.prototype.destroy=function(){g(this._parser),this.emit("close")}}("undefined"==typeof exports?clarinet={}:exports);var N=function(){var a=function(a){return a.exec.bind(a)},b=g(function(b){return b.unshift(/^/),a(RegExp(b.map(G("source")).join("")))}),c=/(\$?)/,d=/([\w-_]+|\*)/,e=/()/,f=/\["([^"]+)"\]/,h=/\[(\d+|\*)\]/,i=/{([\w ]*?)}/,j=/(?:{([\w ]*?)})?/,k=b(c,d,j),l=b(c,f,j),m=b(c,h,j),n=b(c,e,i),o=b(/\.\./),p=b(/\./),q=b(c,/!/),r=b(/$/);return function(a){return a(D(k,l,m,n),o,p,q,r)}}(),O=G("key"),P=G("node"),Q={},R=N(function(a,b,c,e,f){function g(a,b){var c=b[y],d=c&&"*"!=c?function(a){return A(a)==c}:l;return h(d,a)}function i(a,b){var c=b[z];if(!c)return a;var d=E(m,u(c.split(/\W+/))),e=F(d,P,J);return h(e,a)}function j(a,b){var c=!!b[x];return c?h(a,J):a}function k(a){function b(a){return A(a)!=Q}return a==l?l:h(b,F(a,K))}function n(a){function b(a){return a?f(a):!1}if(a==l)return l;var c=o(),d=a,e=k(b),f=D(c,d,e);return b}function o(){return function(a){return A(a)==Q}}function p(a){return function(b){var c=a(b);return c===!0?J(b):c}}function q(a,b,c){return r(function(a,b){return b(a,c)},b,a)}function s(a,b,c,d,e){var f=a(c);if(f){var g=q(b,d,f),h=c.substr(H(f[0]));return e(h,g)}}function t(a,b){return E(s,a,b)}function v(a,b){return b}function w(a,b){var c=a?w:v;return B(a,b,c)}var x=1,y=2,z=3,A=F(O,J),B=D(t(a,M(j,i,g,k)),t(b,M(n)),t(c,M()),t(e,M(j,o)),t(f,M(p)),function(a){throw d('"'+a+'" could not be tokenised')});return function(a){try{return w(a,l)}catch(b){throw d('Could not compile "'+a+'" because '+b.message)}}}),S=0,T="node",U="path",V=S++,W=S++,X=S++,Y=S++,Z=S++;a.oboe=C("GET"),a.oboe.doGet=a.oboe,a.oboe.doDelete=C("DELETE"),a.oboe.doPost=C("POST",!0),a.oboe.doPut=C("PUT",!0)}(window,Object,Array,Error);